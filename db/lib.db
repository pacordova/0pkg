_freetype2 = {
   url = "https://downloads.sourceforge.net/freetype/freetype-2.13.3.tar.xz",
   sha3 = "764b5a302571b7ead0d180b3e5e7af19b0b47e6cb1315f26ee5266bd0460d2fc",
   build = "meson",
   flags = { "-Dharfbuzz=disabled" }
};

harfbuzz = {
   url = "https://github.com/harfbuzz/harfbuzz/archive/9.0.0/harfbuzz-9.0.0.tar.gz",
   sha3 = "df45d84d14d6bb1df59b5962099acc6f04be699d9a2f4c3608d73ecd5a5561d5",
   build = "meson",
   flags = { "-Dcairo=disabled" }
};

freetype2 = {
   url = "https://downloads.sourceforge.net/freetype/freetype-2.13.3.tar.xz",
   sha3 = "764b5a302571b7ead0d180b3e5e7af19b0b47e6cb1315f26ee5266bd0460d2fc",
   build = "meson",
   flags = { "-Dharfbuzz=enabled" }
};

fontconfig = {
   url = "https://www.freedesktop.org/software/fontconfig/release/fontconfig-2.15.0.tar.xz",
   sha3 = "01271f5261ea7b47332da761d02f2b0ed62fb164a2921a1d81d3e53c6a5f7623",
   build = "./configure",
   flags = { "--disable-docs" }
};

--------------------------------------------------------------------------------

alsa-lib = {
   url = "https://alsa-project.org/files/pub/lib/alsa-lib-1.2.12.tar.bz2",
   sha3 = "3d65e490d7c1f25890e099c89f3a4e2c9b36a8553db4e17d05b9ee36feb19d71",
   build = "./configure",
};

alsa-utils = {
   url = "https://alsa-project.org/files/pub/utils/alsa-utils-1.2.12.tar.bz2",
   sha3 = "c7ce5050986682b2944bfe344accc0107d0e37f8ca0047605d02610c908107d9",
   build = "./configure",
   flags = {
      "--with-udev-rules-dir=/usr/lib64/udev/rules.d",
      "--disable-{alsaconf,bat,xmlto}",
      "--with-curses=ncursesw",
   }
};

argon2 = {
   url = "https://github.com/P-H-C/phc-winner-argon2/archive/20190702/phc-winner-argon2-20190702.tar.gz",
   sha3 = "8147687cbaa78ac3fa5ef0d07996934b741621e1c24705479ae09bf17a8976aa",
   build = "make",
   flags = { "LIBRARY_REL=lib64" }
};

dav1d = {
   url = "https://downloads.videolan.org/pub/videolan/dav1d/1.4.3/dav1d-1.4.3.tar.xz",
   sha3 = "fc84c431c4f2405ae8b351a9ecd7b1ce10b96863d50ae3206df857c81a2cf118",
   build = "meson",
};

libogg = {
   url = "https://downloads.xiph.org/releases/ogg/libogg-1.3.5.tar.xz",
   sha3 = "caabb9bead5d1b33279bd7367f40a807869273cf2e176bf0eb5ec4e009f37af6",
   build = "./configure",
};

flac = {
   url = "https://downloads.xiph.org/releases/flac/flac-1.4.3.tar.xz",
   sha3 = "24b4d4d600396dbedfb46e031bd7cc26408a6ecab1e3e2ac929c725fdc665fc1",
   build = "./configure",
   flags = { "--disable-thorough-tests" }
};

fribidi = {
   url = "https://github.com/fribidi/fribidi/releases/download/v1.0.15/fribidi-1.0.15.tar.xz",
   sha3 = "8179f6d561ddf746af18aa5670016598f0e7db9536aa799f3d75821d87bb265e",
   build = "meson",
};

fuse3 = {
   url = "https://github.com/libfuse/libfuse/releases/download/fuse-3.16.2/fuse-3.16.2.tar.gz",
   sha3 = "7511d3e5cf0a4c22de6a717c64e10a0469801fd1baa34a2e2924e3d676af2a31",
   build = "meson",
   flags = { "-Dexamples=false" },
   prepare = [[ sed -i '/^udev/,$ s/^/#/' util/meson.build ]],
   post = [[ chmod u+s $destdir/usr/bin/fusermount3 ]]
};

iso-codes = {
   url = "https://salsa.debian.org/iso-codes-team/iso-codes/-/archive/v4.16.0/iso-codes-v4.16.0.tar.gz",
   sha3 = "14987ae3a6b275eee609a6cab2d23ea0f6a83015c33cfd613fac9f4405c491c4",
   build = "./configure",
};

json-c = {
   url = "https://s3.amazonaws.com/json-c_releases/releases/json-c-0.17.tar.gz",
   sha3 = "6e3bb804e61de257c313a2d4e39e89262dea68477acc518f8c0c4ab15a37ea69",
   build = "cmake",
   flags = {
      "-DBUILD_{STATIC_LIBS=OFF,TESTING=OFF}",
      "-DENABLE_{THREADING=ON,RDRAND=OFF}",
   }
};

lame = {
   url = "https://downloads.sourceforge.net/lame/lame-3.100.tar.gz",
   sha3 = "36700934b5b3e64f2e3ff33ee85bd7fc033890aa92d1f6a0a9b5acc2a3a0d199",
   build = "./configure",
   flags = { "--enable-{nasm=yes,mp3rtp=yes,gtktest=no}" }
};

libarchive = {
   url = "https://github.com/libarchive/libarchive/releases/download/v3.7.4/libarchive-3.7.4.tar.xz",
   sha3 = "27ee1cf7f44d7ba0a12998715d8dfb5aaca92c34279c34ee1ccf10325b19b098",
   build = "./configure",
   flags = { "--without-nettle" }
};

libass = {
   url = "https://github.com/libass/libass/releases/download/0.17.3/libass-0.17.3.tar.gz",
   sha3 = "b163363fa4926a3d8991a138cea75ee83431787209df74a3ee66f6b269ca6fec",
   build = "./configure",
   flags = {
      "--enable-fontconfig",
   }
};

libbpf = {
   url = "https://github.com/libbpf/libbpf/archive/v1.4.5/libbpf-1.4.5.tar.gz",
   sha3 = "e0b91f8110d545f296ee1440fd296a50627d02bd6295a05334a2170439702bce",
   build = "make",
   flags = { "-C src", "LIBSUBDIR=lib64" }
};

libconfig = {
   url = "https://github.com/hyperrealm/libconfig/releases/download/v1.7.3/libconfig-1.7.3.tar.gz",
   sha3 = "81e3f782c8f366a7de6ec71d4509e02c70f1690199113a2f0e51067fd7dd29cf",
   build = "./configure",
};

libev = {
   url = "http://dist.schmorp.de/libev/libev-4.33.tar.gz",
   sha3 = "ba1e921dd20ef633308f837e958e136b5ec80cd73683fd1bdb1ed48ceb59cf1b",
   build = "./configure",
};

libevent = {
   url = "https://github.com/libevent/libevent/releases/download/release-2.1.12-stable/libevent-2.1.12-stable.tar.gz",
   sha3 = "aeadcbd599fc49e5fe9554a668093e4bdc53cf9fd177d099bce41e46ec0b783d",
   build = "./configure",
   prepare = [[ sed -i 's/python/&3/' event_rpcgen.py ]]
};

libexif = {
   url = "https://github.com/libexif/libexif/releases/download/v0.6.24/libexif-0.6.24.tar.bz2",
   sha3 = "a3d9130008e06b086ff60624ed629eeb259916da99fa045784fc6177b4b591c3",
   build = "./configure",
   flags = { "--with-doc-dir=/usr/share/doc/libexif" }
};

libidn2 = {
   url = "https://ftp.gnu.org/gnu/libidn/libidn2-2.3.7.tar.gz",
   sha3 = "889197927b322f26b41a4ba21e78f631cf0cdca8d8fcfa0f5ac0d4bdcd8278c8",
   build = "./configure",
   post = [[ rm -fr $destdir/usr/bin $destdir/usr/share/man/man1 ]]
};

libjpeg-turbo = {
   url = "https://github.com/libjpeg-turbo/libjpeg-turbo/releases/download/3.0.3/libjpeg-turbo-3.0.3.tar.gz",
   sha3 = "648f531e76e7151d521106a081671f41e5153725d38d0c5a91ec6c80e6f113b4",
   build = "cmake",
   flags = { "-DENABLE_STATIC=OFF", "-DWITH_{JPEG8=ON,JAVA=OFF}" }
};

libmnl = {
   url = "https://netfilter.org/projects/libmnl/files/libmnl-1.0.5.tar.bz2",
   sha3 = "0f289aaf93935856a674b8c5c9e6b390f94f348965d899f285a1d4d259081181",
   build = "./configure",
};

libnftnl = {
   url = "https://netfilter.org/pub/libnftnl/libnftnl-1.2.7.tar.xz",
   sha3 = "c3f196ec36e49fe6c13d0fea2371f324b36f897354542d904349bb2e011044d8",
   build = "./configure",
};

libnl3 = {
   url = "https://github.com/thom311/libnl/releases/download/libnl3_10_0/libnl-3.10.0.tar.gz",
   sha3 = "a35a965ac148ade1d4cf9fed2ee089146d4182c4b746359f030b72f529cb5990",
   build = "./configure",
   flags = { "--disable-cli" }
};

libpcap = {
   url = "https://www.tcpdump.org/release/libpcap-1.10.5.tar.xz",
   sha3 = "c0b03f1e7ce0b321ba9d3fd055b9684cc9cc9a6560d8975137c0255bf9a0673d",
   build = "./configure",
};

libpng = {
   url = "https://downloads.sourceforge.net/libpng/libpng-1.6.43.tar.xz",
   sha3 = "77bea57721f50c4a656994d644f77f75689a5d360c71b1aee1044eb275b9da7b",
   build = "./configure",
};

libpsl = {
   url = "https://github.com/rockdaboot/libpsl/releases/download/0.21.5/libpsl-0.21.5.tar.gz",
   sha3 = "41c5824497c1e40e8c97eab9027fd0b4f74e9bd1c9b482f5d8a92261c779a07e",
   build = "./configure",
};

libsass = {
   url = "https://github.com/sass/libsass/archive/3.6.6/libsass-3.6.6.tar.gz",
   sha3 = "9637cd39de53582abc24deefb2ed3c28c92db591c81f4765dd58c287631b2667",
   prepare = [[ autoreconf -fi ]],
   build = "./configure",
};

libsodium = {
   url = "https://download.libsodium.org/libsodium/releases/libsodium-1.0.20.tar.gz",
   sha3 = "e74a767d92c5b58d5f9b5e882e220df7899a8dc1fa173461c0c76099776ab456",
   build = "./configure",
};

libtasn1 = {
   url = "https://ftp.gnu.org/gnu/libtasn1/libtasn1-4.19.0.tar.gz",
   sha3 = "1fea801ff44ee976956c7d36295afcbf0d8b3c33f3f0a460fbf28b7b0df9a432",
   build = "./configure",
};

libtiff = {
   url = "https://download.osgeo.org/libtiff/tiff-4.6.0.tar.gz",
   sha3 = "bab4329a43c48338b3e00af8d44358b7e01109b065f9790d06901be822f6f1ac",
   build = "./configure",
};

libtirpc = {
   url = "https://downloads.sourceforge.net/libtirpc/libtirpc-1.3.5.tar.bz2",
   sha3 = "d039939874447be073f6f65acab90b2ecfa4385b5b1b2ca2cf8991b1504ddeee",
   build = "./configure",
   flags = { "--disable-gssapi" }
};

libunistring = {
   url = "https://ftp.gnu.org/gnu/libunistring/libunistring-1.2.tar.xz",
   sha3 = "95472c6995afaa039064bab986637cb2825dd2cb20814db26fb365fd5cea9fd6",
   build = "./configure",
};

libusb = {
   url = "https://github.com/libusb/libusb/releases/download/v1.0.27/libusb-1.0.27.tar.bz2",
   sha3 = "e79a5aa5c54bd32d07f1e0935b1b18c09fe7bfa6a202d5a1c218938764781164",
   build = "./configure",
};

libuv = {
   url = "https://dist.libuv.org/dist/v1.48.0/libuv-v1.48.0-dist.tar.gz",
   sha3 = "5e721b956873474715598ed04dd50a4bfb055966140056147c519480e28d1507",
   build = "./configure",
};

libvorbis = {
   url = "https://downloads.xiph.org/releases/vorbis/libvorbis-1.3.7.tar.xz",
   sha3 = "2c28108d60b3ac2bd0f2a38ac3ee0dc70a24b84f6f6e892df20d266cd11a5e9d",
   build = "./configure",
};

libvpx = {
   url = "https://github.com/webmproject/libvpx/archive/v1.14.1/libvpx-1.14.1.tar.gz",
   sha3 = "6f2658dc6260ee0915ea4f27226dad31d0f45dca6f70ecb988bfe64ea5ae9887",
   build = "../configure",
   prepare = [[
      sed -i 's/cp -p/cp/' build/make/Makefile
      sed -i 's/perl/:/g;s/diff --version/command -v diff/' configure
   ]],
   flags = {
      "--libdir=/usr/lib64",
      "--enable-{pic,shared}",
      "--enable-{postproc,runtime-cpu-detect}",
      "--enable-{vp8,vp9,vp9-highbitdepth}",
      "--disable-{debug,debug-libs,docs,examples,static,tools,unit-tests}",
      "--disable-install-{bins,docs,srcs}",
      "--as=nasm",
   }
};

libxml2 = {
   url = "https://download.gnome.org/sources/libxml2/2.13/libxml2-2.13.3.tar.xz",
   sha3 = "abba2c837356e1303c07b2703a95a1de5697f7e0c39d4e37b5e2132d96121de5",
   build = "./configure",
   flags = {
      "--with-{history=yes,legacy=yes,icu=no}",
      "PYTHON=/usr/bin/python3",
   }
};

libxslt = {
   url = "https://download.gnome.org/sources/libxslt/1.1/libxslt-1.1.42.tar.xz",
   sha3 = "89c1ef277e8a38b3825ede2c791e35e2495c600a9e94e2ca527663fb15cc815c",
   build = "./configure",
   flags = { "--without-python" }
};


libyaml = {
   url = "https://github.com/yaml/libyaml/releases/download/0.2.5/yaml-0.2.5.tar.gz",
   sha3 = "cd085eedddb0caeaa360db3e037155db95f8998d495047f3a8cbee6ee0430022",
   build = "./configure",
};

mtdev = {
   url = "https://bitmath.org/code/mtdev/mtdev-1.1.7.tar.bz2",
   sha3 = "4afd35629a236b17597841cfd394e51af7c215eaaa8097ace8c8da6ffb8cfd71",
   build = "./configure",
};

nghttp2 = {
   url = "https://github.com/nghttp2/nghttp2/releases/download/v1.63.0/nghttp2-1.63.0.tar.xz",
   sha3 = "cbf7364a6ea68d6c9753f57154dc94dc07fd6160f8bf0c01a9470ad4a3403e99",
   build = "./configure",
   flags = { "--enable-lib-only", "--with-libev" }
};

opus = {
   url = "https://downloads.xiph.org/releases/opus/opus-1.5.2.tar.gz",
   sha3 = "6f0c6a0215fa2c898f9f37fe07cdafb230a9135e722163de605e480ebf6820e0",
   build = "meson",
};

p11-kit = {
   url = "https://github.com/p11-glue/p11-kit/releases/download/0.25.5/p11-kit-0.25.5.tar.xz",
   sha3 = "c17d9a241a9a25077bfafe61f80a33bebcb07917bd30a54e95c2717325f11596",
   build = "meson",
   flags = { 
      "-Dtrust_paths=/etc/ssl/certs/ca-certificates.crt",
   }
};

pixman = {
   url = "https://xorg.freedesktop.org/releases/individual/lib/pixman-0.43.4.tar.xz",
   sha3 = "a48525f14efe9ac8036292499ec9955fc20b8ca7630024d80eb0b8335abb35d2",
   build = "meson",
   flags = {
      "-Dloongson-mmi=disabled",
      "-Dvmx=disabled",
      "-Darm-simd=disabled",
      "-Dneon=disabled",
      "-Da64-neon=disabled",
      "-Diwmmxt=disabled",
      "-Dmips-dspr2=disabled",
      "-Dgtk=disabled",
   }
};

poppler = {
   url = "https://poppler.freedesktop.org/poppler-24.09.0.tar.xz",
   sha3 = "7e65cab74745054bc9a73cc528f93da01034e13e24bec2ef4cb7eae8d92dad93",
   build = "cmake",
   flags = {
      "-DENABLE_QT5=OFF",
      "-DENABLE_QT6=OFF",
      "-DENABLE_BOOST=OFF",
      "-DENABLE_NSS3=OFF",
      "-DENABLE_GPGME=OFF",
      "-DENABLE_LIBTIFF=OFF",
      "-DENABLE_GTK_DOC=OFF",
      "-DENABLE_LIBOPENJPEG=none",
      "-DENABLE_LCMS=OFF",
   }
};

poppler-data = {
   url = "https://poppler.freedesktop.org/poppler-data-0.4.12.tar.gz",
   sha3 = "474793bd050d8e2cc4b2ed3d7690c2fc61a1e42dd31475f712c4d73f73d5879b",
   build = "make",
   flags = { 
      "prefix=/usr" 
   }
};

sassc = {
   url = "https://github.com/sass/sassc/archive/3.6.2/sassc-3.6.2.tar.gz",
   sha3 = "61e05276d1052de3c8403a6895cbca55f50d9f8f3afd2abed1263331dd33e46f",
   prepare = [[ autoreconf -fi ]],
   build = "./configure",
};

uthash = {
   url = "https://github.com/troydhanson/uthash/archive/v2.3.0/uthash-2.3.0.tar.gz",
   sha3 = "d416f46e3922a59538311fc9e20d7303430e31d2be22e5d7abf2f5391fc3d3f7",
   build = _,
   post = [[
      mkdir -p $destdir/usr/include
      cp -p src/*.h $destdir/usr/include
   ]]
};

x264 = {
   url = "https://code.videolan.org/videolan/x264/-/archive/31e19f92f00c7003fa115047ce50978bc98c3a0d/x264-31e19f92f00c7003fa115047ce50978bc98c3a0d.tar.gz",
   sha3 = "f8a227b8cc5feb27c22b3828c3a9f471d0b560bb57413696bcf03e7329711ad7",
   build = "./configure",
   flags = {
      "--libdir=/usr/lib64",
      "--enable-{pic,shared}",
      "--disable-{avs,cli,swscale}",
   },
};

x265 = {
   url = "https://bitbucket.org/multicoreware/x265_git/downloads/x265_3.6.tar.gz",
   sha3 = "06731a2b191eb95eab35fe248ea5beb500f52c07f481994124663bc02eeeb0f0",
   build = "cmake",
   flags = {
      "-DLIB_INSTALL_DIR=lib64",
      "-DENABLE_SHARED=ON",
      "-DGIT_ARCHETYPE=1",
      "-S source",
   },
   post = [[ rm -f $destdir/usr/lib64/libx265.a ]]
};

--------------------------------------------------------------------------------

_glib2 = {
   url = "https://download.gnome.org/sources/glib/2.82/glib-2.82.0.tar.xz",
   sha3 = "bb8c6fd9c76cdb85e315c1dbeeb2c86412a70ba901345bdf6c2f6b5782989571",
   build = "meson",
   flags = { "-Dintrospection=disabled" }
};

gobject-introspection = {
   url = "https://download.gnome.org/sources/gobject-introspection/1.80/gobject-introspection-1.80.1.tar.xz",
   sha3 = "0aee06c2479fc07b9aa7092fecdf757f4efd7739c585b01b1733cd1b8d9ed034",
   build = "meson",
};

glib2 = {
   url = "https://download.gnome.org/sources/glib/2.82/glib-2.82.0.tar.xz",
   sha3 = "bb8c6fd9c76cdb85e315c1dbeeb2c86412a70ba901345bdf6c2f6b5782989571",
   build = "meson",
   flags = { "-Dintrospection=enabled" }
};

dbus-glib = {
   url = "https://dbus.freedesktop.org/releases/dbus-glib/dbus-glib-0.112.tar.gz",
   sha3 = "403eaea495309ea8260148a2cb945a1c08785b1c431bd867d1100b188b4efa41",
   build = "./configure",
};

json-glib = {
   url = "https://download.gnome.org/sources/json-glib/1.10/json-glib-1.10.0.tar.xz",
   sha3 = "63a0253ff4c71c1d49765cd773934af6982c6ce8cf051a4c63261a0105ae83d4",
   build = "meson",
   flags = { "-D{gtk_doc=disabled,nls=disabled,tests=false}" },
};

libgudev = {
   url = "https://download.gnome.org/sources/libgudev/238/libgudev-238.tar.xz",
   sha3 = "6500e55c1ceeaf85747d3eeaebd57e1cfc7fae4b5b4ceb7161cd8ab059d1863d",
   build = "meson",
};

upower = {
   url = "https://gitlab.freedesktop.org/upower/upower/-/archive/v1.90.5/upower-v1.90.5.tar.bz2",
   sha3 = "7b24ed91602d2b2cdc055e0193d44c17e171d7927d0575f876e43cd5adf026c1",
   build = "meson",
   flags = {
      "-Dsystemdsystemunitdir=no",
      "-Dudevrulesdir=/usr/lib64/udev/rules.d",
      "-Dgtk-doc=false",
      "-Dman=false"
   },
   prepare = [[ sed '/parse_version/d' -i src/linux/integration-test.py ]]
};

vala = {
   url = "https://download.gnome.org/sources/vala/0.56/vala-0.56.17.tar.xz",
   sha3 = "668609ee19af025e1778f93f81086e11d850354db8c4278a2ad2db944a951f9f",
   build = "./configure",
   flags = {
      "--enable-python3=yes",
      "--disable-python",
      "--disable-valadoc",
   },
   prepare = [[ sed -i '/gvc.h/a#define TRUE 1' libvaladoc/gvc-compat.c ]]
};
